Easy

Task 1
//////////////////////////////////////////////////////////////////////////////////////////
using System;

public class Ship
{
    private string name;
    private List<string> engines;
    private int fuelCapacity;
    private string holdSize;

    public Ship(string name, List<string> engines, int fuelCapacity, string holdSize)
    {
        this.name = name;
        this.engines = engines ?? new List<string>();
        this.fuelCapacity = fuelCapacity;
        this.holdSize = holdSize;
    }

    public string Name
    {
        get { return name; }
        set { name = value; }
    }
    public List<string> Engines
    {
        get { return engines; }
        set { engines = value; }
    }
    public int FuelCapacity
    {
        get { return fuelCapacity; }
        set { fuelCapacity = value; }
    }
    public string HoldSize
    {
        get { return holdSize; }
        set { holdSize = value; }
    }

    public virtual void Transponder()
    {
        Console.WriteLine($"I am {name}, a {this.GetType()} type ship");
    }
}

public class Corvette : Ship
{
    private string weapons;
    public Corvette(string name, List<string> engines, int fuelCapacity, string holdSize, string weapons) : base (name, engines, fuelCapacity, holdSize) 
    {
        this.weapons = weapons;
    }

    public string Weapons
    {
        get { return weapons; }
        set { weapons = value; }
    }

    public void RequestTranspond(Ship ship)
    {
        Console.WriteLine($"Corvette asks ship for identification.");
        ship.Transponder();
    }
}

public class Merchant : Ship
{
    private string engine;
    public Merchant(string name, string engine, int fuelCapacity, string holdSize) : base(name, new List<string>(), fuelCapacity, holdSize)
    {
        this.engine = engine;
    }

    public string Engine
    {
        get { return engine; }
        set { engine = value; }
    }

    public override void Transponder()
    {
        base.Transponder();
        Console.WriteLine($"I have no weapons, one {Engine}, and a {HoldSize} hold.");
    }
}

public class Smuggler : Merchant
{
    private bool hiddenHold;
    public Smuggler(string name, string engine, int fuelCapacity, string holdSize, bool hiddenHold) : base(name, engine, fuelCapacity, holdSize)
    {
        this.hiddenHold = hiddenHold;
    }

    public bool HiddenHold
    {
        get { return hiddenHold; }
    }

    public override void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"I have no weapons, one {Engine}, and no hold.");

    }
}
public class Program
{
    static void Main()
    {
        List<string> engines = new List<string>() { "Large engine 1", "Large engine 2" };
        Corvette corvette = new Corvette("Corvette", engines, 50000, "Small", "Laser");
        Merchant merchant = new Merchant("Merchant", "Cheap Engine", 30000, "Large");
        Smuggler smuggler = new Smuggler("Smuggler", "Cheap Engine", 30000, "None", true);

        corvette.RequestTranspond(merchant);
        corvette.RequestTranspond(smuggler);

        Console.ReadKey();

    }
}
//////////////////////////////////////////////////////////////////////////////////////////

Task 2
//////////////////////////////////////////////////////////////////////////////////////////
using System;

public class Ship
{
    private string name;
    private List<string> engines;
    private int fuelCapacity;
    private string holdSize;
    private Station station;

    public Ship(string name, List<string> engines, int fuelCapacity, string holdSize, Station station)
    {
        this.name = name;
        this.engines = engines ?? new List<string>();
        this.fuelCapacity = fuelCapacity;
        this.holdSize = holdSize;
        this.station = station;
    }

    public string Name
    {
        get { return name; }
        set { name = value; }
    }
    public List<string> Engines
    {
        get { return engines; }
        set { engines = value; }
    }
    public int FuelCapacity
    {
        get { return fuelCapacity; }
        set { fuelCapacity = value; }
    }
    public string HoldSize
    {
        get { return holdSize; }
        set { holdSize = value; }
    }

    public virtual void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: {station.Name}");
    }
}

public class Corvette : Ship
{
    private string weapons;
    public Corvette(string name, List<string> engines, int fuelCapacity, string holdSize, string weapons, Station station) : base (name, engines, fuelCapacity, holdSize, station) 
    {
        this.weapons = weapons;
    }

    public string Weapons
    {
        get { return weapons; }
        set { weapons = value; }
    }

    public void RequestTranspond(Ship ship)
    {
        Console.WriteLine($"Corvette asks ship for identification.");
        ship.Transponder();
    }
}

public class Merchant : Ship
{
    private string engine;
    public Merchant(string name, string engine, int fuelCapacity, string holdSize, Station station) : base(name, new List<string>(), fuelCapacity, holdSize, station)
    {
        this.engine = engine;
    }

    public string Engine
    {
        get { return engine; }
        set { engine = value; }
    }

    public override void Transponder()
    {
        base.Transponder();
        Console.WriteLine($"I have no weapons, one {Engine}, and a {HoldSize} hold.");
    }
}

public class Smuggler : Merchant
{
    private bool hiddenHold;
    public Smuggler(string name, string engine, int fuelCapacity, string holdSize, bool hiddenHold, Station station) : base(name, engine, fuelCapacity, holdSize, station)
    {
        this.hiddenHold = hiddenHold;
    }

    public bool HiddenHold
    {
        get { return hiddenHold; }
    }

    public override void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: Unknown station");
        Console.WriteLine($"I have no weapons, one {Engine}, and no hold.");

    }
}

public class Station
{
    private string name;
    private List<Ship> ships;
    public Station(string name)
    {
        this.name = name;
        ships = new List<Ship>();
    }

    public string Name
    {
        get { return name; }
    }

    public void Add(Ship ship)
    {
        ships.Add(ship);
    }

    public void ListShips()
    {
        Console.WriteLine($"Ships assigned to {Name} station: ");
        foreach (Ship ship in ships)
        {
            Console.WriteLine($"- {ship.Name}");
        }
    }

}
public class Program
{
    static void Main()
    {
        List<string> engines = new List<string>() { "Large engine 1", "Large engine 2" };
        Station omega = new Station("Omega station");
        Corvette corvette = new Corvette("Corvette", engines, 50000, "Small", "Laser", omega);
        omega.Add(corvette);
        Merchant merchant = new Merchant("Merchant", "Cheap Engine", 30000, "Large", omega);
        omega.Add(merchant);
        Smuggler smuggler = new Smuggler("Smuggler", "Cheap Engine", 30000, "None", true, omega);
        omega.Add(smuggler);

        corvette.RequestTranspond(merchant);
        Console.WriteLine();
        corvette.RequestTranspond(smuggler);
        Console.WriteLine();
        omega.ListShips();

        Console.ReadKey();

    }
}
//////////////////////////////////////////////////////////////////////////////////////////

Medium

Task 3
//////////////////////////////////////////////////////////////////////////////////////////
using System;

public class InteriorSpace
{
    private string interiorName;
    private bool isHidden;

    public InteriorSpace(string interiorName, bool isHidden = false)
    {
        this.interiorName = interiorName;
        this.isHidden = isHidden;
    }

    public string Name
    {
        get { return interiorName; }
    }
    public bool IsHidden
    {
        get { return isHidden; }
    }
}

public class Base
{
    Random random = new Random();
    private string name;
    private List<InteriorSpace> interiors;

    public Base(InteriorSpace[] interiors, string name)
    {
        this.interiors = new List<InteriorSpace>();

        foreach (InteriorSpace interior in interiors)
        {
            this.interiors.Add(interior);
        }

        this.name = name;
    }

    public string Name
    {
        get { return name; }
        set { name = value; }
    }

    public void ListInteriors()
    {
        foreach (InteriorSpace interior in interiors)
        {
            if (interior.IsHidden)
            {
                if (random.Next(0, 3) == 0)
                {
                    Console.WriteLine($"- {interior.Name}");
                }
            }
            else
            {
                Console.WriteLine($"- {interior.Name}");
            }
        }
    }
}

public class Ship : Base
{
    private List<string> engines;
    private int fuelCapacity;
    private string holdSize;
    private Station station;

    public Ship(InteriorSpace[] interiors ,string name, List<string> engines, int fuelCapacity, string holdSize, Station station) : base(interiors, name)
    {
        this.engines = engines ?? new List<string>();
        this.fuelCapacity = fuelCapacity;
        this.holdSize = holdSize;
        this.station = station;
    }

    public List<string> Engines
    {
        get { return engines; }
        set { engines = value; }
    }
    public int FuelCapacity
    {
        get { return fuelCapacity; }
        set { fuelCapacity = value; }
    }
    public string HoldSize
    {
        get { return holdSize; }
        set { holdSize = value; }
    }

    public virtual void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: {station.Name}");
    }
}

public class Corvette : Ship
{
    private string weapons;
    public Corvette(InteriorSpace[] interiors, string name, List<string> engines, int fuelCapacity, string holdSize, string weapons, Station station) : base (interiors, name, engines, fuelCapacity, holdSize, station) 
    {
        this.weapons = weapons;
    }

    public string Weapons
    {
        get { return weapons; }
        set { weapons = value; }
    }

    public void RequestTranspond(Ship ship)
    {
        Console.WriteLine($"Corvette asks ship for identification.");
        ship.Transponder();
    }

    public void QueryInteriors(Base ship)
    {
        Console.WriteLine($"Corvette ask for a list of {ship.Name}'s interiors");
        ship.ListInteriors();
    }
}

public class Merchant : Ship
{
    private string engine;
    public Merchant(InteriorSpace[] interiors, string name, string engine, int fuelCapacity, string holdSize, Station station) : base(interiors, name, new List<string>(), fuelCapacity, holdSize, station)
    {
        this.engine = engine;
    }

    public string Engine
    {
        get { return engine; }
        set { engine = value; }
    }

    public override void Transponder()
    {
        base.Transponder();
        Console.WriteLine($"I have no weapons, one {Engine}, and a {HoldSize} hold.");
    }
}

public class Smuggler : Merchant
{
    private bool hiddenHold;
    public Smuggler(InteriorSpace[] interiors, string name, string engine, int fuelCapacity, string holdSize, bool hiddenHold, Station station) : base(interiors, name, engine, fuelCapacity, holdSize, station)
    {
        this.hiddenHold = hiddenHold;
    }

    public bool HiddenHold
    {
        get { return hiddenHold; }
    }

    public override void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: Unknown station");
        Console.WriteLine($"I have no weapons, one {Engine}, and no hold.");

    }
}

public class Station : Base
{
    private List<Ship> ships;

    public Station(InteriorSpace[] interiors, string name) : base(interiors, name)
    {
        ships = new List<Ship>();
    }

    public void Add(Ship ship)
    {
        ships.Add(ship);
    }

    public void ListShips()
    {
        Console.WriteLine($"Ships assigned to {Name} station: ");
        foreach (Ship ship in ships)
        {
            Console.WriteLine($"- {ship.Name}");
        }
    }

}
public class Program
{
    static void Main()
    {
        InteriorSpace[] interiorsStation = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Cabin 2"),
            new InteriorSpace("Cabin 3"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Dock"),
        };
        InteriorSpace[] interiorsShip = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Cabin 2"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Holding room"),
        };
        InteriorSpace[] interiorsSmuggler = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Holding room", true),
        };


        List<string> engines = new List<string>() { "Large engine 1", "Large engine 2" };
        Station omega = new Station(interiorsStation, "Omega station");
        Corvette corvette = new Corvette(interiorsShip, "Corvette", engines, 50000, "Small", "Laser", omega);
        omega.Add(corvette);
        Merchant merchant = new Merchant(interiorsShip, "Merchant", "Cheap Engine", 30000, "Large", omega);
        omega.Add(merchant);
        Smuggler smuggler = new Smuggler(interiorsSmuggler, "Smuggler", "Cheap Engine", 30000, "None", true, omega);
        omega.Add(smuggler);

        corvette.RequestTranspond(merchant);
        Console.WriteLine();
        corvette.QueryInteriors(merchant);
        Console.WriteLine();
        corvette.RequestTranspond(smuggler);
        Console.WriteLine();
        corvette.QueryInteriors(smuggler);



        Console.ReadKey();

    }
}
//////////////////////////////////////////////////////////////////////////////////////////

Task 4
//////////////////////////////////////////////////////////////////////////////////////////
using System;

public class InteriorSpace
{
    private string interiorName;
    private bool isHidden;

    public InteriorSpace(string interiorName, bool isHidden = false)
    {
        this.interiorName = interiorName;
        this.isHidden = isHidden;
    }

    public string Name
    {
        get { return interiorName; }
    }
    public bool IsHidden
    {
        get { return isHidden; }
    }
}

public class Base
{
    Random random = new Random();
    private string name;
    private List<InteriorSpace> interiors;

    public Base(InteriorSpace[] interiors, string name)
    {
        this.interiors = new List<InteriorSpace>();

        foreach (InteriorSpace interior in interiors)
        {
            this.interiors.Add(interior);
        }

        this.name = name;
    }

    public string Name
    {
        get { return name; }
        set { name = value; }
    }

    public void ListInteriors()
    {
        foreach (InteriorSpace interior in interiors)
        {
            if (interior.IsHidden)
            {
                if (random.Next(0, 3) == 0)
                {
                    Console.WriteLine($"- {interior.Name}");
                }
            }
            else
            {
                Console.WriteLine($"- {interior.Name}");
            }
        }
    }
}

public class Ship : Base
{
    private List<string> engines;
    private int fuelCapacity;
    private string holdSize;
    private Station station;
    private TradeRoutes tradeRoute;

    public Ship(InteriorSpace[] interiors ,string name, List<string> engines, int fuelCapacity, string holdSize, Station station, TradeRoutes route) : base(interiors, name)
    {
        this.engines = engines ?? new List<string>();
        this.fuelCapacity = fuelCapacity;
        this.holdSize = holdSize;
        this.station = station;
        tradeRoute = route;
    }

    public List<string> Engines
    {
        get { return engines; }
        set { engines = value; }
    }
    public int FuelCapacity
    {
        get { return fuelCapacity; }
        set { fuelCapacity = value; }
    }
    public string HoldSize
    {
        get { return holdSize; }
        set { holdSize = value; }
    }
    public TradeRoutes TradeRoute
    {
        get { return  tradeRoute; }
    }
    public string Direction
    {
        get
        {
            return $"{tradeRoute.From}-{tradeRoute.To}";
        }
    }

    public virtual void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: {station.Name}");
    }

}

public class Corvette : Ship
{
    private string weapons;
    public Corvette(InteriorSpace[] interiors, string name, List<string> engines, int fuelCapacity, string holdSize, string weapons, Station station, TradeRoutes tradeRoute) : base (interiors, name, engines, fuelCapacity, holdSize, station, tradeRoute) 
    {
        this.weapons = weapons;
    }

    public string Weapons
    {
        get { return weapons; }
        set { weapons = value; }
    }

    public void RequestTranspond(Ship ship)
    {
        Console.WriteLine($"Corvette asks ship for identification.");
        ship.Transponder();
    }

    public void QueryInteriors(Base ship)
    {
        Console.WriteLine($"Corvette ask for a list of {ship.Name}'s interiors");
        ship.ListInteriors();
    }

    public void Patrol()
    {
        Console.WriteLine($"{Name} is patrolling the trade route from {TradeRoute.From} to {TradeRoute.To}\n");

        foreach (Ship ship in TradeRoute.Ships)
        {
            Console.WriteLine($"I hear you, \"{Name}\". I am the {ship.GetType()} {ship.Name}, traveling the {ship.Direction} route");
        }
    }

}

public class Merchant : Ship
{
    private string engine;
    public Merchant(InteriorSpace[] interiors, string name, string engine, int fuelCapacity, string holdSize, Station station, TradeRoutes tradeRoute) : base(interiors, name, new List<string>(), fuelCapacity, holdSize, station, tradeRoute)
    {
        this.engine = engine;
    }

    public string Engine
    {
        get { return engine; }
        set { engine = value; }
    }

    public override void Transponder()
    {
        base.Transponder();
        Console.WriteLine($"I have no weapons, one {Engine}, and a {HoldSize} hold.");
    }
}

public class Smuggler : Merchant
{
    private bool hiddenHold;
    public Smuggler(InteriorSpace[] interiors, string name, string engine, int fuelCapacity, string holdSize, bool hiddenHold, Station station, TradeRoutes tradeRoute) : base(interiors, name, engine, fuelCapacity, holdSize, station, tradeRoute)
    {
        this.hiddenHold = hiddenHold;
    }

    public bool HiddenHold
    {
        get { return hiddenHold; }
    }

    public override void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: Unknown station");
        Console.WriteLine($"I have no weapons, one {Engine}, and no hold.");

    }
}

public class Station : Base
{
    private List<Ship> ships;

    public Station(InteriorSpace[] interiors, string name) : base(interiors, name)
    {
        ships = new List<Ship>();
    }

    public void Add(Ship ship)
    {
        ships.Add(ship);
    }

    public void ListShips()
    {
        Console.WriteLine($"Ships assigned to {Name} station: ");
        foreach (Ship ship in ships)
        {
            Console.WriteLine($"- {ship.Name}");
        }
    }
}

public class TradeRoutes
{
    private Station fromStation;
    private Station toStation;
    private List<Ship> ships;

    public TradeRoutes(Station from, Station to)
    {
        fromStation = from;
        toStation = to;
        ships = new List<Ship>();
    }

    public void AddShip(Ship ship)
    {
        ships.Add(ship);
    }

    public string From
    {
        get { return fromStation.Name; }
    }
    public string To
    {
        get { return toStation.Name; }
    }

    public List<Ship> Ships
    {
        get { return ships; }
    }
}



public class Program
{
    static void Main()
    {
        InteriorSpace[] interiorsStation = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Cabin 2"),
            new InteriorSpace("Cabin 3"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Dock"),
        };
        InteriorSpace[] interiorsShip = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Cabin 2"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Holding room"),
        };
        InteriorSpace[] interiorsSmuggler = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Holding room", true),
        };
        List<string> engines = new List<string>() { "Large engine 1", "Large engine 2" };

        Station luna = new Station(interiorsStation, "Luna station");
        Station omega = new Station(interiorsStation, "Omega station");

        TradeRoutes tradeRoute = new TradeRoutes(omega, luna);

        Corvette corvette = new Corvette(interiorsShip, "Proud", engines, 50000, "Small", "Laser", omega, tradeRoute);
        omega.Add(corvette);
        Merchant merchant1 = new Merchant(interiorsShip, "Merchant #1", "Cheap Engine", 30000, "Large", omega, tradeRoute);
        Merchant merchant2 = new Merchant(interiorsShip, "Merchant #2", "Cheap Engine", 32000, "Large", omega, tradeRoute);
        Merchant merchant3 = new Merchant(interiorsShip, "Merchant #3", "Cheap Engine", 20000, "Large", omega, tradeRoute);
        omega.Add(merchant1);
        omega.Add(merchant2);
        omega.Add(merchant3);
        tradeRoute.AddShip(merchant1);
        tradeRoute.AddShip(merchant2);
        tradeRoute.AddShip(merchant3);
        Smuggler smuggler = new Smuggler(interiorsSmuggler, "Merchant #4", "Cheap Engine", 30000, "None", true, omega, tradeRoute);
        omega.Add(smuggler);
        tradeRoute.AddShip(smuggler);

        corvette.Patrol();


        Console.ReadKey();

    }
}
//////////////////////////////////////////////////////////////////////////////////////////

Hard

Task 5
//////////////////////////////////////////////////////////////////////////////////////////
using System;

public class InteriorSpace
{
    private string interiorName;
    private bool isHidden;

    public InteriorSpace(string interiorName, bool isHidden = false)
    {
        this.interiorName = interiorName;
        this.isHidden = isHidden;
    }

    public string Name
    {
        get { return interiorName; }
    }
    public bool IsHidden
    {
        get { return isHidden; }
    }
}

public class Base
{
    Random random = new Random();
    private string name;
    private List<InteriorSpace> interiors;

    public Base(InteriorSpace[] interiors, string name)
    {
        this.interiors = new List<InteriorSpace>();

        foreach (InteriorSpace interior in interiors)
        {
            this.interiors.Add(interior);
        }

        this.name = name;
    }

    public string Name
    {
        get { return name; }
        set { name = value; }
    }

    public void ListInteriors()
    {
        foreach (InteriorSpace interior in interiors)
        {
            if (interior.IsHidden)
            {
                if (random.Next(0, 3) == 0)
                {
                    Console.WriteLine($"- {interior.Name}");
                }
            }
            else
            {
                Console.WriteLine($"- {interior.Name}");
            }
        }
    }
}

public abstract class Ship : Base
{
    private List<string> engines;
    private int fuelCapacity;
    private string holdSize;
    private Station station;
    private TradeRoutes tradeRoute;
    private bool destroyed;

    public Ship(InteriorSpace[] interiors ,string name, List<string> engines, int fuelCapacity, string holdSize, Station station, TradeRoutes route) : base(interiors, name)
    {
        this.engines = engines ?? new List<string>();
        this.fuelCapacity = fuelCapacity;
        this.holdSize = holdSize;
        this.station = station;
        tradeRoute = route;
        destroyed = false;
    }

    public List<string> Engines
    {
        get { return engines; }
        set { engines = value; }
    }
    public int FuelCapacity
    {
        get { return fuelCapacity; }
        set { fuelCapacity = value; }
    }
    public string HoldSize
    {
        get { return holdSize; }
        set { holdSize = value; }
    }
    public TradeRoutes TradeRoute
    {
        get { return  tradeRoute; }
    }
    public string Direction
    {
        get
        {
            return $"{tradeRoute.From}-{tradeRoute.To}";
        }
    }
    public bool Destroyed
    {
        get { return destroyed; }
        set { destroyed = value; }
    }

    public virtual void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: {station.Name}");
    }

    public abstract void Destroy(Ship ship);

}

public class Corvette : Ship
{
    private string weapons;
    public Corvette(InteriorSpace[] interiors, string name, List<string> engines, int fuelCapacity, string holdSize, string weapons, Station station, TradeRoutes tradeRoute) : base (interiors, name, engines, fuelCapacity, holdSize, station, tradeRoute) 
    {
        this.weapons = weapons;
    }

    public string Weapons
    {
        get { return weapons; }
        set { weapons = value; }
    }

    public void RequestTranspond(Ship ship)
    {
        Console.WriteLine($"Corvette asks ship for identification.");
        ship.Transponder();
    }

    public void QueryInteriors(Base ship)
    {
        Console.WriteLine($"Corvette ask for a list of {ship.Name}'s interiors");
        ship.ListInteriors();
    }

    public void Patrol()
    {
        Console.WriteLine($"{Name} is patrolling the trade route from {TradeRoute.From} to {TradeRoute.To}\n");

        for (int i = 0; i < TradeRoute.Ships.Count; i++)
        {
            if (TradeRoute.Ships[i].GetType() == typeof(Pirate))
            {
                if(i+1 <= TradeRoute.Ships.Count)
                {
                    TradeRoute.Ships[i].Destroy(TradeRoute.Ships[i + 1]);
                }
                else if(i-1 >= 0)
                {
                    TradeRoute.Ships[i].Destroy(TradeRoute.Ships[i - 1]);
                }

                Random rand = new Random();
                if (rand.Next(0, 2) == 0)
                {
                    Destroy(TradeRoute.Ships[i]);
                    TradeRoute.Ships[i].Destroyed = true;
                }
                else
                {
                    Console.WriteLine("Another vile pirate was captured by the Corvette 'Proudy'.");
                }
            }
            else
            {
                if (!TradeRoute.Ships[i].Destroyed)
                {
                    Console.WriteLine($"I hear you, \"{Name}\". I am the {TradeRoute.Ships[i].GetType()} {TradeRoute.Ships[i].Name}, traveling the {TradeRoute.Ships[i].Direction} route");
                }
            }
        }
    }

    public override void Destroy(Ship ship)
    {
        Console.WriteLine("Another vile pirate was destroyed by Proudy");
    }

}

public class Merchant : Ship
{
    private string engine;

    public Merchant(InteriorSpace[] interiors, string name, string engine, int fuelCapacity, string holdSize, Station station, TradeRoutes tradeRoute) : base(interiors, name, new List<string>(), fuelCapacity, holdSize, station, tradeRoute)
    {
        this.engine = engine;
    }

    public string Engine
    {
        get { return engine; }
        set { engine = value; }
    }

    public override void Transponder()
    {
        base.Transponder();
        Console.WriteLine($"I have no weapons, one {Engine}, and a {HoldSize} hold.");
    }

    public override void Destroy(Ship ship)
    {
        Console.WriteLine($"The {this.GetType()}-clas ship '{Name}' was destroyed by a pirate.");
        Destroyed = true;
    }
}

public class Smuggler : Merchant
{
    private bool hiddenHold;
    public Smuggler(InteriorSpace[] interiors, string name, string engine, int fuelCapacity, string holdSize, bool hiddenHold, Station station, TradeRoutes tradeRoute) : base(interiors, name, engine, fuelCapacity, holdSize, station, tradeRoute)
    {
        this.hiddenHold = hiddenHold;
    }

    public bool HiddenHold
    {
        get { return hiddenHold; }
    }

    public override void Transponder()
    {
        Console.WriteLine($"I am {Name}, a {this.GetType()} type ship");
        Console.WriteLine($"Ship '{Name}' is assigned to: Unknown station");
        Console.WriteLine($"I have no weapons, one {Engine}, and no hold.");

    }
}

public class Station : Base
{
    private List<Ship> ships;

    public Station(InteriorSpace[] interiors, string name) : base(interiors, name)
    {
        ships = new List<Ship>();
    }

    public void Add(Ship ship)
    {
        ships.Add(ship);
    }

    public void ListShips()
    {
        Console.WriteLine($"Ships assigned to {Name} station: ");
        foreach (Ship ship in ships)
        {
            Console.WriteLine($"- {ship.Name}");
        }
    }
}

public class TradeRoutes
{
    private Station fromStation;
    private Station toStation;
    private List<Ship> ships;

    public TradeRoutes(Station from, Station to)
    {
        fromStation = from;
        toStation = to;
        ships = new List<Ship>();
    }

    public void AddShip(Ship ship)
    {
        ships.Add(ship);
    }

    public string From
    {
        get { return fromStation.Name; }
    }
    public string To
    {
        get { return toStation.Name; }
    }

    public List<Ship> Ships
    {
        get { return ships; }
    }
}

public class Pirate : Ship
{
    Random random = new Random();
    private bool HasWeapons { get; }

    public Pirate(InteriorSpace[] interiors, List<string> engines, int fuelCapacity, string holdSize, Station station, TradeRoutes route) : base(interiors, "", engines, fuelCapacity, holdSize, station, route)
    {
        HasWeapons = random.Next(0, 10) == 0 ? true : false;
    }

    public override void Destroy(Ship ship)
    {
        Console.WriteLine($"Pirate attacks and destroys {ship.Name}.");
        ship.Destroy(ship);
    }
}

public class Program
{
    static void Main()
    {
        InteriorSpace[] interiorsStation = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Cabin 2"),
            new InteriorSpace("Cabin 3"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Dock"),
        };
        InteriorSpace[] interiorsShip = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Cabin 2"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Holding room"),
        };
        InteriorSpace[] interiorsSmuggler = new InteriorSpace[]
        {
            new InteriorSpace("Cabin 1"),
            new InteriorSpace("Engine Room"),
            new InteriorSpace("Holding room", true),
        };
        List<string> engines = new List<string>() { "Large engine 1", "Large engine 2" };

        Station luna = new Station(interiorsStation, "Luna station");
        Station omega = new Station(interiorsStation, "Omega station");

        TradeRoutes tradeRoute = new TradeRoutes(omega, luna);

        Corvette corvette = new Corvette(interiorsShip, "Proud", engines, 50000, "Small", "Laser", omega, tradeRoute);
        omega.Add(corvette);
        Merchant merchant1 = new Merchant(interiorsShip, "Merchant #1", "Cheap Engine", 30000, "Large", omega, tradeRoute);
        omega.Add(merchant1);
        tradeRoute.AddShip(merchant1);
        Merchant merchant2 = new Merchant(interiorsShip, "Merchant #2", "Cheap Engine", 32000, "Large", omega, tradeRoute);
        omega.Add(merchant2);
        tradeRoute.AddShip(merchant2);
        Pirate pirate = new Pirate(interiorsSmuggler, engines, 2000, "Large", luna, tradeRoute);
        luna.Add(pirate);
        tradeRoute.AddShip(pirate);
        Merchant merchant3 = new Merchant(interiorsShip, "Merchant #3", "Cheap Engine", 20000, "Large", omega, tradeRoute);
        omega.Add(merchant3);
        tradeRoute.AddShip(merchant3);
        Smuggler smuggler = new Smuggler(interiorsSmuggler, "Merchant #4", "Cheap Engine", 30000, "None", true, omega, tradeRoute);
        omega.Add(smuggler);
        tradeRoute.AddShip(smuggler);

        corvette.Patrol();


        Console.ReadKey();

    }
}
//////////////////////////////////////////////////////////////////////////////////////////

Task 6
//////////////////////////////////////////////////////////////////////////////////////////
using System;

public class SpaceObject
{
    public string Name { get; set; }
    public int Position { get; set; }

    public SpaceObject(string name, int position)
    {
        Name = name;
        Position = position;
    }
}

public class Station : SpaceObject
{
    public Station(string name, int position) : base(name, position) { }
}

public abstract class Ship : SpaceObject
{
    public string Type { get; set; }
    public char Symbol { get; set; }

    public Ship(string name, int position, string type, char symbol) : base(name, position)
    {
        Type = type;
        Symbol = symbol;
    }

    public abstract void Move();
    // Position will be adjusted according to it's direction to travel right or left
    public abstract void Answer(string name);
}

public class TradeRoute
{
    Random random = new Random();
    private int _counter;
    private Pirate _pirate;
    public Station StartStation { get; set; }
    public Station EndStation { get; set; }
    private PatrolShip _patrolShip;
    List<Ship> ships;


    public TradeRoute(Station startStation, Station endStation, Pirate pirate, PatrolShip patrolShip)
    {
        _counter = 30;
        _pirate = pirate;

        StartStation = startStation;
        EndStation = endStation;
        ships = new List<Ship>();
        _patrolShip = patrolShip;
    }

    public void Add(Ship ship)
    {
        ships.Add(ship);
    }
    public void Remove(Ship ship)
    {
        ships.Remove(ship);
    }
    public void Logic()
    {
        while (_counter > 0)
        {
            // Clearing the console.
            Console.Clear();
            
            // randomly adding a pirate in random position, if there is none
            SpawnPirate();

            // progressing the 
            ProgressRoute();

            // calling the patrol request in each turn
            HandlePatrol();

            // waiting fo user input to continue
            Console.WriteLine("\nPress any key to continue, or q to quit");
            if (Console.ReadKey().KeyChar == 'q') return;

            // Handle the pirate if active
            HandlePirate();

            // Checking if there is no ship left
            HandleShipStatus();

            // Checking ships at the end
            HandleFinishedShips();

            // decrementing the counter
            _counter--;
        }
    }

    private void SpawnPirate()
    {
        // checking if pirate is active, and if not randomly spawning one
        if (random.Next(0, 11) == 0 && _pirate.Lives == 3)
        {
            _pirate.Position = random.Next(1, 29);
            Add(_pirate);
        }
    }

    private void HandlePirate()
    {
        // if pirate on field removing one live each turn
        if (ships.Contains(_pirate))
        {
            _pirate.Lives--;
            // removing pirate from the list if lives 0 and resetting it's lives
            if (_pirate.Lives == 0)
            {
                ships.Remove(_pirate);
                _pirate.Lives = 3;
            }
        }
    }

    private void ProgressRoute()
    {
        // generating the char[] to display
        char[] route = new char[] { '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-' };
       
        // iterating through ships and changing the charachters in the char[] at their position
        // while using their Move() method
        if (ships != null && ships.Count > 0)
        {
            foreach (Ship ship in ships)
            {
                ship.Move();
                
                route[ship.Position] = ship.Symbol;

                // Checking if pirate is at the same place as a ship
                if (ships.Contains(_pirate))
                {
                    _pirate.Rob(ship);
                }

            }
        }
        
        // creating a string from the char[]
        string print = new string(route);
       
        // adding the two station to the sting
        print = StartStation.Name + print + EndStation.Name;
        
        // displaying the route on the console
        Console.WriteLine(print);
    }

    private void HandlePatrol()
    {
        // calling the patrolships request to a random ship
        if (ships.Count > 0)
        {
            // getting a reference to a random ship from the list
            Ship ship = ships[random.Next(0, ships.Count)];

            // calling the patrolships request information
            _patrolShip.RequestInformation(ship);

            // if it's a pirate changin it's lives to 0 to remove it from the list
            if (ship.GetType() == typeof(Pirate))
            {
                _pirate.Lives = 1;
            }
            // if it is a smuggler capturing it and removing it from the list
            else if (ship.GetType() == typeof(Smuggler))
            {
                Console.WriteLine("Smuggler was detected, capturing the ship...");
                Remove(ship);
            }
        }
    }

    private void HandleShipStatus()
    {
        if(ships.Count == 0)
        {
            // spawning 2-5 new ship is there is no left
            SpawnShips();
        }
    }

    private void SpawnShips()
    {
        for (int i = 0; i < random.Next(2, 6); i++)
        {
            Ship newShip;
            if (i % 2 == 0)
            {
                newShip = new Merchant($"Merchant #{i}", random.Next(0, 29), "merchant", 'M', this);
            }
            else
            {
                newShip = new Smuggler($"Merchant #{i}", random.Next(0, 29), "merchant", 'S', this);
            }

            ships.Add(newShip);
        }
    }

    private void HandleFinishedShips()
    {
        for (int i = ships.Count-1; i >= 0; i--)
        {
            if (ships[i].GetType() != typeof(Pirate))
            {
                if(ships[i].Position == 0 || ships[i].Position == 29)
                {
                    if(random.Next(0,2) == 0)
                    {
                        Remove(ships[i]);
                    }
                }
            }
        }
    }
}

public class Merchant : Ship
{
    private string _direction;
    private TradeRoute _tradeRoute;
    public Merchant(string name, int position, string type, char symbol, TradeRoute tradeRoute) : base(name, position, type, symbol)
    {
        _direction = "right";
        _tradeRoute = tradeRoute;
    }

    public override void Move()
    {

        if (Position == 0) _direction = "right";
        if (Position == 29) _direction = "left";

        if (_direction == "right") Position += 1;
        if (_direction == "left") Position -= 1;
    }

    public override void Answer(string name)
    {
        Console.Write($"I hear you, {name}. ");
        // creating the route to answer
        string route;
        if (_direction == "right")
        {
            route = $"{_tradeRoute.StartStation.Name}-{_tradeRoute.EndStation.Name}";
        }
        else
        {
            route = $"{_tradeRoute.EndStation.Name}-{_tradeRoute.StartStation.Name}";
        }

        Console.WriteLine($"I am merchant {Name}, traveling the {route} route.");
    }
}

public class Smuggler : Ship
{
    private string _direction;
    private TradeRoute _tradeRoute;
    public Smuggler(string name, int position, string type, char symbol, TradeRoute tradeRoute) : base(name, position, type, symbol)
    {
        _direction = "right";
        _tradeRoute = tradeRoute;
    }

    public override void Move()
    {

        if (Position == 0) _direction = "right";
        if (Position == 29) _direction = "left";

        if (_direction == "right") Position += 1;
        if (_direction == "left") Position -= 1;
        
    }
    public override void Answer(string name)
    {
        Console.Write($"I hear you, {name}. ");

        string route;
        if (_direction == "right")
        {
            route = $"{_tradeRoute.StartStation.Name}-{_tradeRoute.EndStation.Name}";
        }
        else
        {
            route = $"{_tradeRoute.EndStation.Name}-{_tradeRoute.StartStation.Name}";
        }

        Console.WriteLine($"I am merchant {Name}, traveling the {route} route.");
    }
}

public class Pirate : Ship
{
    public int Lives {  get; set; }
    public Pirate(string name, int position, string type, char symbol) : base(name, position, type, symbol) 
    {
        Lives = 3;
    }

    public override void Move()
    {
        // IDK YET CAUSE IT DOESNT MOVE
    }
    public override void Answer(string name)
    {
        // IDK YET CAUSE IT DOESNT Answer
    }

    public void Rob(Ship ship)
    {
        if (ship.GetType() != typeof(Pirate) && ship.Position == Position)
        {
            Console.WriteLine($"{ship.Name} is getting robbed by a Pirate.");
        }
    }
}

public class PatrolShip
{
    Random random = new Random();
    public string Name { get; }

    public PatrolShip(string name)
    {
        Name = name;
    }

    public void RequestInformation(Ship ship)
    {
        if (ship.GetType() != typeof(Pirate))
        {
            Console.WriteLine($"The {Name} calls the {ship.Name} ");
            ship.Answer(Name);
        }
        else
        {
            if(random.Next(0, 2) == 0)
            {
                Console.WriteLine("Pirateship was destroyed");
            }
            else
            {
                Console.WriteLine("Pirateship was captured");
            }
        }
        
    }

}


class Program
{

    static void Main()
    {

        Station stationA = new Station("Luna", 0);
        Station stationB = new Station("Omega", 11);
        Pirate pirate = new Pirate("", 5, "pirate", 'P');
        PatrolShip proud = new PatrolShip("Proud");
        TradeRoute galaxy = new TradeRoute(stationA, stationB, pirate, proud);
        Merchant merchant = new Merchant("Merchant #1", 3, "merchant", 'M', galaxy);
        Smuggler smuggler = new Smuggler("Merchant #2", 10, "smuggler", 'S', galaxy);

        galaxy.Add(merchant);
        galaxy.Add(smuggler);

        galaxy.Logic();

        Console.ReadKey();
    }
}
//////////////////////////////////////////////////////////////////////////////////////////
